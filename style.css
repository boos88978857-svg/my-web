// =============================
// 初始化
// =============================
document.addEventListener("DOMContentLoaded", () => {
  console.log("JS 已啟動 ✅");

  // 預設顯示首頁
  showPage("home");

  // 底部導覽列
  document.querySelectorAll(".navItem").forEach(btn => {
    btn.addEventListener("click", () => {
      const page = btn.dataset.page;
      showPage(page);
    });
  });
});

// =============================
// 分頁顯示控制（關鍵）
// =============================
function showPage(pageKey) {
  const pages = ["home", "practice", "record", "settings"];

  pages.forEach(key => {
    const el = document.getElementById(`page-${key}`);
    if (el) {
      el.style.display = key === pageKey ? "block" : "none";
    }
  });

  // 底部按鈕 active 狀態
  document.querySelectorAll(".navItem").forEach(btn => {
    btn.classList.toggle("active", btn.dataset.page === pageKey);
  });

  // 回到頂部
  window.scrollTo(0, 0);
}

// =============================
// 年級選擇
// =============================
document.querySelectorAll(".gradeBtn").forEach(btn => {
  btn.addEventListener("click", () => {
    const grade = btn.dataset.grade;
    localStorage.setItem("grade", grade);
    alert(`你選擇了：${grade}`);
  });
});

// =============================
// 模組點擊（目前只示意）
// =============================
document.querySelectorAll(".moduleCard").forEach(card => {
  card.addEventListener("click", () => {
    if (card.hasAttribute("disabled")) return;
    alert("模組點擊成功");
  });
});